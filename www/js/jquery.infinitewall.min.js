/*
 * jQuery Infinite Wall
 * Version 1.3
 * Copyright (c) 2013 Gianluca Cassarino (http://www.quovadiscom.com)
 * 
 * Derived from http://tympanus.net/codrops/2011/10/07/draggable-image-boxes-grid/
 * 
 * additions:
 * Infinte scroll grid 
 * Alternative kinetic easing based on jQuery UI
 * Touch screen devices support
 * Grid tiles manager optimized for smooth scroll (tested on Firefox, Chrome, Opera)
 * Visual notifications for images errors
 * Focal point experimental feature for image thumbnail positions
 * 
 * Requires:
 * jQuery http://jquery.com
 * jQuery Infinite Drag http://ianli.com/infinitedrag/ for Usage
 * jQuery tmpl Templating https://github.com/codepb/jquery-template
 * jQuery UI for dragging and kinetic emulation
 * jQuery UI touch-punch for Touch Event Support
 * 
 * 
 * 
 * 
 * 
 * Versions:
 * 1.3
 * - fix some offset issues on image preview
 * 1.2
 * - minor fixes for Chrome
 * - css overflow: hidden during closing preview animation 
 * 1.1
 * - major grid optimizations
 * - supported browsers: Firefox, Chrome, Opera
 * 1.0
 * - Initial implementation
 */

eval(function(p,a,c,k,e,r){e=function(c){return(c<a?'':e(parseInt(c/a)))+((c=c%a)>35?String.fromCharCode(c+29):c.toString(36))};if(!''.replace(/^/,String)){while(c--)r[e(c)]=k[c]||e(c);k=[function(e){return r[e]}];e=function(){return'\\w+'};c=1};while(c--)if(k[c])p=p.replace(new RegExp('\\b'+e(c)+'\\b','g'),k[c]);return p}('3 1K(c){P.1L(c,3(i,a){5 b=$(a).r(\'7\').H(\'I\');P.2p(b,3(){}).2q(3(){}).2r(3(){}).2s(3(){})})}$.2t.1M=3(){5 a=$(A);5 b={l:a.1r(),j:a.1N()};b.18=b.j+a.m();b.19=b.l+a.9();5 c=k.w();c.18=c.j+k.2u();c.19=c.l+k.1s();E(!(b.18<c.j||b.j>c.18||b.19<c.l||b.l>c.19))};5 $1t=$(\'#4-2v-2w\');5 $D=$(\'#1O\');5 1a={};5 1P;5 1u;5 $F;5 1v;5 Q=u;5 w=$1t.w();1K(1b);$(1Q).2x(3(){5 g=0;5 h={m:(1R!=\'\'?1R:1S),9:(1T!=\'\'?1T:1S),2y:0,2z:0,2A:3(a,b,c){a.2B(1b[g]);6(g>=1b.U-1){g=0}J{g++}6(a.s(\'a\').s(\'7\').X(\'Y\')==\'\'){a.s(\'a\').s(\'7\').X(\'Y\',a.s(\'a\').s(\'7\').H(\'I\'));a.s(\'a\').s(\'7\').1c(\'1U\');a.s(\'a\').1c(\'1U\')}}};1u=P.1u("#1O",1V,h);1v=(3(){Q=u,B=-1,v=u,$F=$D.r(\'z.1d > a\'),$K=$F.1e(\'.4-o\'),V=$K.U,Z=3(){$F=$D.r(\'z.1d > a\');$K=$F.1e(\'.4-o\');V=$K.U;$K.1c(\'4-1w\');1W();1x()},1W=3(){1y();$D.1z({2C:3(){Q=L},1X:3(){5 a;3 1Y(){Q=u;Z();1Z(a)}6(!1f){a=1A(1Y,2D)}}});6(1f){$D.1z({20:3(){E $(\'<z></z>\').t(\'10\',0)}});$D.2E("2F",3(a,b){5 p=b.20.2G();$(k).1X().M({l:1V.2H==\'x\'?0:p.l-w.l,j:p.j-w.j},21,\'2I\',3(){Q=u;$F=$D.r(\'z.1d > a\');$K=$F.1e(\'.4-o\');V=$K.U;1x()})})}},1y=3(){5 a=$(\'#4-l\').1s(L)+$(\'#2J\').1s(L)+2K($F.t(\'2L-l\'));$D.t(\'9\',$(A).9()-a)},1x=3(){$F.R(\'11.S\',3(a){6(!Q)22($(k));E u});$(A).R(\'23.S\',3(a){1y();$D.1z();$(\'#4-7-n, #4-o-n\').t({m:$(A).m(),9:$(A).9()})})},22=3(a){6(v)E u;$("24").t(\'1g\',\'25\');6(a.26(\'4-o\')){v=L;B=a.27(\'.4-o\');28(a,3(){v=u})}J{v=L;B=a.27(\'.4-1w\');29(a,3(){v=u})}},29=3(d,e){5 f=d.s(\'7\').X(\'Y\'),W=d.s(\'q\').12(),2a={I:f,W:W};d.1c(\'4-N\');1B(f,3(){d.1C(\'4-N\');5 b=($(\'#4-7-n\').U>0);6(!b)$(\'#2M\').2b(2a).2c($1t);J $(\'#4-7-n\').s(\'7.4-n-7\').H(\'I\',f).T().r(\'q.4-n-13\').12(W);5 c=1h(f);d.1C(\'4-7-N\');$(\'#4-7-n\').t({m:d.m(),9:d.9(),j:d.w().j,l:d.w().l}).s(\'7.4-n-7\').1i().t({m:c.m,9:c.9,j:c.j,l:0}).2N(14).T().O().M({m:$(A).m(),j:0},1j,\'1k\',3(){$(k).M({9:$(A).9(),l:0+$(1Q).1r()},14,3(){5 a=$(k);a.r(\'q.4-n-13, q.4-C\').O();6(V>1)a.r(\'z.4-1l\').O();6(e)e.1D()})});6(!b)2d()})},28=3(b,c){5 d=($(\'#4-o-n\').U>0),G=b.s(\'z.4-G\').1m(),o=b.s(\'z.4-o-1E\').1m(),2e={G:G,o:o};6(!d)$(\'#2O\').2b(2e).2c($D);$(\'#4-o-n\').t({m:b.m(),9:b.9(),j:b.w().j,l:b.w().l}).O().M({m:$(A).m(),j:0},1j,\'1k\',3(){$(k).M({9:$(A).9(),l:0},14,3(){5 a=$(k),$G=a.r(\'z.4-G\'),$o=a.r(\'z.4-o-1E\'),$C=a.r(\'q.4-C\');6(d){$G.1m(G);$o.1m(o)}$G.O();$o.O();$C.O();6(c)c.1D()})});6(!d)2f()},1B=3(a,b){$(\'<7/>\').2P(3(){6(b)b.1D()}).H(\'I\',a)},2d=3(){5 c=$(\'#4-7-n\');c.r(\'q.4-1l-1F\').R(\'11.S\',3(a){1G(\'1F\')}).T().r(\'q.4-1l-1H\').R(\'11.S\',3(a){1G(\'1H\')}).T().r(\'q.4-C\').R(\'11.S\',3(a){2g()});$(A).R(\'23.S\',3(a){5 b=c.s(\'7.4-n-7\'),1n=1h(b.H(\'I\'));b.t({m:1n.m,9:1n.9,j:1n.j,l:0})});5 d=8;5 f=1A(3(e){5 a=P(\'q.4-C\').t(\'10\');6(a<1){P(\'q.4-C\').t(\'10\',1)}J{P(\'q.4-C\').t(\'10\',0.2)}6(--d==0){1Z(f);P(\'q.4-C\').t(\'10\',\'\')}},2Q)},2f=3(){$(\'#4-o-n\').r(\'q.4-C\').R(\'11.S\',3(a){2h()})},1G=3(c){6(v)E u;v=L;5 d=$(\'#4-7-n\'),$N=d.r(\'z.4-N-2R\');$N.O();6(c===\'1H\'){(B===V-1)?B=0:++B}J 6(c===\'1F\'){(B===0)?B=V-1:--B}5 e=$K.1I(B);5 f=e.s(\'7\').X(\'Y\'),W=e.s(\'q\').12();1B(f,3(){$N.1i();5 a=1h(f);d.s(\'7.4-n-7\').H(\'I\',f).t({m:a.m,9:a.9,j:a.j,l:0}).T().r(\'q.4-n-13\').12(W);5 b=d.r(\'q.4-n-13\');6(b.12()==\'\'){b.t("2i","2S")}J{b.t("2i","2T")}$D.1r(e.w().l).1N(e.w().j);v=u})},2g=3(){6(v)E u;v=L;5 a=$K.1I(B);$("24").t(\'1g\',\'\');$(\'#4-7-n\').r(\'q.4-n-13, z.4-1l, q.4-C\').1i().T().t(\'1g\',\'25\').M({9:a.9(),l:a.w().l},1j,\'1k\',3(){$(k).M({m:a.m(),j:a.w().j},14,3(){$(k).2j(3(){v=u;$(k).t(\'1g-y\',\'2U\')})})})},2h=3(){6(v)E u;v=L;5 a=$F.1e(\'.4-1w\').1I(B);$(\'#4-o-n\').r(\'z.4-G, z.4-o-1E, q.4-C\').1i().T().M({9:a.9(),l:a.w().l},1j,\'1k\',3(){$(k).M({m:a.m(),j:a.w().j},14,3(){$(k).2j(3(){v=u})})})},1h=3(a){5 b=2V 2W();b.I=a;5 c=$(A).m(),15=$(A).9(),2k=15/c,2l=b.m,2m=b.9,1o=2m/2l,16,17,2X,2Y;6(2k>1o){17=15;16=15/1o}J{17=c*1o;16=c}E{m:16,9:17,j:(c-16)/2,l:(15-17)/2}};E{Z:Z}})();1v.Z()});$(3(){5 c=3(a){6(a){2Z(5 b 30 a){6(31 a[b]=="32"){6($.33(a[b])){2n a[b]}J{c(a[b])}}}E L}};5 d=(1f)?34:21;1A(3(){6(Q){$(".1d").1L(3(a){6($(k).1M()){}J{1p=$(k).H(\'1p\');1q=$(k).H(\'1q\');1a[1p][1q]=35;2n 1a[1p][1q];6($(\'a\',k).26(\'4-N\'))v=u;5 b=\'1b/36.37\';$(\'7\',k).H(\'I\',b);$(\'7\',k).2o(\'X-Y\');$(\'7\',k).2o(\'38\');$(\'7\',k).1C();$(\'7\',k).39();$(\'7\',k).1J();$(\'q\',k).1J();$(k).1J()}});6(1f){c(1a);1P()}}},d)});',62,196,'|||function|ib|var|if|img||height||||||||||left|this|top|width|preview|content||span|find|children|css|false|isAnimating|offset|||div|window|current|close|ibWrapper|return|ibItems|teaser|attr|src|else|ibImgItems|true|animate|loading|show|jQuery|kinetic_moving|bind|ibTemplate|end|length|imgItemsCount|description|data|largesrc|init|opacity|click|text|descr|400|w_h|new_w|new_h|right|bottom|grid|images|addClass|_tile|not|easing|overflow|getImageDim|hide|500|easeOutExpo|nav|html|dim|r_i|col|row|scrollTop|outerHeight|ibMainWrapper|infinitedrag|Template|image|initEvents|setWrapperSize|draggable|setInterval|preloadImage|removeClass|call|full|prev|navigate|next|eq|remove|preload|each|isOnScreen|scrollLeft|wall|update_tiles|document|tile_width|100|tile_height|warning|draggable_options|loadKinetic|stop|do_stop|clearInterval|helper|1000|openItem|resize|body|hidden|hasClass|index|loadContentItem|loadImgPreview|largeImageData|tmpl|insertAfter|initImgPreviewEvents|contentData|initContentPreviewEvents|closeImgPreview|closeContentPreview|display|fadeOut|r_w|i_w|i_h|delete|removeAttr|get|done|fail|always|fn|outerWidth|main|wrapper|ready|start_col|start_row|oncreate|append|start|300|on|drag|position|axis|easeOutCirc|header|parseFloat|margin|previewTmpl|fadeIn|contentTmpl|load|1200|large|none|block|scroll|new|Image|new_left|new_top|for|in|typeof|object|isEmptyObject|200|undefined|1px|gif|alt|removeData'.split('|'),0,{}))